!function(d){d.marquee={version:"1.0.01"},d.fn.marquee=function(e){var t,i="string"==typeof e&&e,o=i&&Array.prototype.slice.call(arguments,1)||arguments,s=0==this.length?null:d.data(this[0],"marquee");return s&&i&&this.length?"object"==i.toLowerCase()?s:s[i]?(this.each(function(e){var n=d.data(this,"marquee")[i].apply(s,o);if(0==e&&n){if(!n.jquery)return t=n,!1;t=d([]).add(n)}else n&&n.jquery&&(t=t.add(n))}),t||this):this:this.each(function(){new d.Marquee(this,e)})},d.Marquee=function(e,o){o=d.extend({},d.Marquee.defaults,o);var i=this,s=d(e),r=s.find("> li"),n=-1,t=!1,a=!1,u=0;function l(i,e){if(1==a)return!1;e=e||o.pauseSpeed,i.outerWidth()>s.innerWidth()?setTimeout(function(){if(1==a)return!1;var e=i.outerWidth(),n=-1*e,t=parseInt(i.css("left"),10);i.animate({left:n+"px"},(e+t)*o.scrollSpeed,o.fxEasingScroll,function(){f(i)})},e):1<r.length&&setTimeout(function(){if(1==a)return!1;i.animate({top:("top"==o.yScroll?"+":"-")+s.innerHeight()+"px"},o.showSpeed,o.fxEasingScroll),f(i)},e)}function f(e){d.isFunction(o.aftershow)&&o.aftershow.apply(i,[s,e]),e.removeClass(o.cssShowing),p()}function h(){a=!0,1!=s.data("marquee.showing")&&r.filter("."+o.cssShowing).dequeue().stop()}function c(){a=!1,1!=s.data("marquee.showing")&&l(r.filter("."+o.cssShowing),1)}function p(){if(++n>=r.length){if(!isNaN(o.loop)&&0<o.loop&&++u>=o.loop)return!1;n=0}!function(e){if(0<r.filter("."+o.cssShowing).length)return;var n=r.eq(e);d.isFunction(o.beforeshow)&&o.beforeshow.apply(i,[s,n]);var t={top:("top"==o.yScroll?"-":"+")+n.outerHeight()+"px",left:0};s.data("marquee.showing",!0),n.addClass(o.cssShowing),n.css(t).animate({top:"0px"},o.showSpeed,o.fxEasingShow,function(){d.isFunction(o.show)&&o.show.apply(i,[s,n]),s.data("marquee.showing",!1),l(n)})}(n)}d.data(s[0],"marquee",i),this.pause=function(){t=!0,h()},this.resume=function(){t=!1,c()},this.update=function(){var e=r.length;r=s.find("> li"),e<=1&&c()},o.pauseOnHover&&s.hover(function(){if(t)return!1;h()},function(){if(t)return!1;c()}),d.isFunction(o.init)&&o.init.apply(i,[s,o]),p()},d.Marquee.defaults={yScroll:"top",showSpeed:850,scrollSpeed:12,pauseSpeed:5e3,pauseOnHover:!0,loop:-1,fxEasingShow:"swing",fxEasingScroll:"linear",cssShowing:"marquee-showing",init:null,beforeshow:null,show:null,aftershow:null}}(jQuery);